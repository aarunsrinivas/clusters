(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{166:function(e,t,n){},167:function(e,t,n){},181:function(e,t){},183:function(e,t){},194:function(e,t){},196:function(e,t){},221:function(e,t){},223:function(e,t){},224:function(e,t){},229:function(e,t){},231:function(e,t){},250:function(e,t){},262:function(e,t){},265:function(e,t){},294:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),s=n(158),i=n.n(s);n(166),n(167);function u(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Home Page"})})}var o=n(2),l=n.n(o),j=n(4),b=n(3),p=n(60),f=(n(169),p.a.initializeApp({apiKey:"AIzaSyDFWIpCX4iLGJcHtONsTZNa74XWsPdQsHc",authDomain:"clusters-development.firebaseapp.com",projectId:"clusters-development",storageBucket:"clusters-development.appspot.com",messagingSenderId:"763071548614",appId:"1:763071548614:web:d4753c1e326400454f1bc7"})),d=f.auth(),h=a.a.createContext();function O(){return Object(r.useContext)(h)}function x(e){var t=e.children,n=Object(r.useState)(JSON.parse(sessionStorage.getItem("currentUser"))||null),a=Object(b.a)(n,2),s=a[0],i=a[1],u=Object(r.useState)(JSON.parse(sessionStorage.getItem("userData"))||null),o=Object(b.a)(u,2),f=o[0],O=o[1],x=Object(r.useState)(!0),v=Object(b.a)(x,2),k=v[0],m=v[1];function y(){return(y=Object(j.a)(l.a.mark((function e(t,n,c,r,a){var s,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.createUserWithEmailAndPassword(n,c),i="/worlds/".concat(a,"applicant"===r?"/applicants":"/businesses"),e.next=4,fetch(i,{method:"POST",body:JSON.stringify({name:t,email:n,worldId:a})}).then((function(e){if(e.ok)return e.json()}));case 4:return u=e.sent,O(u),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(j.a)(l.a.mark((function e(t,n){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.signInWithEmailAndPassword(t,n),e.next=3,fetch("/users?email=".concat(t)).then((function(e){if(e.ok)return e.json()}));case 3:return r=e.sent,O(r),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(j.a)(l.a.mark((function e(t,n,c,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.updateEmail(n),c&&s.updatePassword(c),e.next=4,fetch(f.links.self,{method:"PUT",body:JSON.stringify({action:"account",name:t,email:n,worldId:r})}).then((function(e){if(e.ok)return e.json()}));case 4:a=e.sent,O(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(j.a)(l.a.mark((function e(t,n,c,r,a,s,i){var u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(p.a.auth().currentUser),e.next=3,fetch(f.links.self,{method:"PUT",body:JSON.stringify({action:"features",cap:parseInt(t),gpa:parseFloat(n),majors:c,standings:r,skills:a,interests:s,courses:i})}).then((function(e){if(e.ok)return e.json()}));case 3:u=e.sent,O(u);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.signOut(),O(null),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f.links.self,{method:"DELETE"}).then((function(e){if(e.ok)return e.json()}));case 2:return e.sent,t=s.delete(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f.links.self,{method:"POST",body:JSON.stringify({action:"join"})}).then((function(e){if(e.ok)return e.json()}));case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f.links.self,{method:"POST",body:JSON.stringify({action:"leave"})}).then((function(e){if(e.ok)return e.json()}));case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f.links.self,{method:"POST",body:JSON.stringify({action:"peel"})}).then((function(e){if(e.ok)return e.json()}));case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){var e=d.onAuthStateChanged(function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}sessionStorage.clear(),e.next=8;break;case 4:return e.next=6,fetch("/users?email=".concat(t.email)).then((function(e){if(e.ok)return e.json()}));case 6:n=e.sent,O(n);case 8:i(t),sessionStorage.setItem("currentUser",JSON.stringify(t));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return m(!1),e}),[]),Object(r.useEffect)((function(){s?sessionStorage.setItem("userData",JSON.stringify(f)):sessionStorage.clear(),m(!1)}),[f]);var N={currentUser:s,userData:f,registerUser:function(e,t,n,c,r){return y.apply(this,arguments)},loginUser:function(e,t){return g.apply(this,arguments)},logoutUser:function(){return C.apply(this,arguments)},deleteUser:function(){return I.apply(this,arguments)},updateAccount:function(e,t,n,c){return S.apply(this,arguments)},updateFeatures:function(e,t,n,c,r,a,s){return w.apply(this,arguments)},joinCluster:function(){return P.apply(this,arguments)},peelFromCluster:function(){return U.apply(this,arguments)},leaveCluster:function(){return F.apply(this,arguments)}};return Object(c.jsx)(h.Provider,{value:N,children:!k&&t})}var v=n(8),k=n(15);function m(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),i=Object(b.a)(s,2),u=i[0],o=i[1],p=Object(r.useState)(""),f=Object(b.a)(p,2),d=f[0],h=f[1],x=Object(r.useState)(!1),m=Object(b.a)(x,2),y=(m[0],m[1]),g=O(),S=g.loginUser,w=(g.userData,Object(v.g)());function C(){return(C=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h("Logged In"),y(!0),n&&u){e.next=5;break}throw"Fields are required";case 5:return e.next=7,S(n,u);case 7:w.push("/dashboard"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),h(e.t0);case 13:console.log(d),y(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{value:n,onChange:function(e){return a(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"password",value:u,onChange:function(e){return o(e.target.value)}}),Object(c.jsx)("button",{onClick:function(){return C.apply(this,arguments)},children:"Submit"}),Object(c.jsxs)("div",{children:["Need an Account? ",Object(c.jsx)(k.b,{to:"/register",children:"Register"})]})]})}function y(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Login"}),Object(c.jsx)(m,{})]})}var g=n(30),S=n.n(g);function w(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),i=Object(b.a)(s,2),u=i[0],o=i[1],p=Object(r.useState)(""),f=Object(b.a)(p,2),d=f[0],h=f[1],x=Object(r.useState)(""),m=Object(b.a)(x,2),y=m[0],g=m[1],S=Object(r.useState)(""),w=Object(b.a)(S,2),C=w[0],I=w[1],P=Object(r.useState)(""),F=Object(b.a)(P,2),U=F[0],N=F[1],J=Object(r.useState)(""),A=Object(b.a)(J,2),T=A[0],D=A[1],E=Object(r.useState)(!1),L=Object(b.a)(E,2),R=L[0],B=L[1],H=O().registerUser,W=Object(v.g)();function M(){return(M=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,D("Registered"),B(!0),n&&u&&d&&y&&C&&U){e.next=7;break}throw"Fields not filled out";case 7:if(d===y){e.next=9;break}throw"Passwords do not match";case 9:return e.next=11,H(n,u,d,C,U);case 11:W.push("/dashboard"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),D(e.t0);case 17:console.log(T),B(!1);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{children:["Type:",Object(c.jsx)("input",{type:"radio",name:"type",onClick:function(){return I("applicant")}})," Applicant",Object(c.jsx)("input",{type:"radio",name:"type",onClick:function(){return I("business")}})," Business",Object(c.jsx)("br",{}),"College: ",Object(c.jsx)("input",{value:U,onChange:function(e){return N(e.target.value)}}),Object(c.jsx)("br",{}),"Name: ",Object(c.jsx)("input",{value:n,onChange:function(e){return a(e.target.value)}}),Object(c.jsx)("br",{}),"Email: ",Object(c.jsx)("input",{value:u,onChange:function(e){return o(e.target.value)}}),Object(c.jsx)("br",{}),"Password: ",Object(c.jsx)("input",{type:"password",value:d,onChange:function(e){return h(e.target.value)}}),Object(c.jsx)("br",{}),"Confirm Password: ",Object(c.jsx)("input",{type:"password",value:y,onChange:function(e){return g(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{disabled:R,onClick:function(){return M.apply(this,arguments)},children:"Submit"}),Object(c.jsxs)("div",{children:["Already Have an Account? ",Object(c.jsx)(k.b,{to:"/login",children:"Log In"})]})]})}function C(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Register"}),Object(c.jsx)(w,{})]})}function I(){var e=O(),t=e.userData,n=e.updateAccount,a=Object(r.useState)(t.name),s=Object(b.a)(a,2),i=s[0],u=s[1],o=Object(r.useState)(t.email),p=Object(b.a)(o,2),f=p[0],d=p[1],h=Object(r.useState)(""),x=Object(b.a)(h,2),k=x[0],m=x[1],y=Object(r.useState)(""),g=Object(b.a)(y,2),S=g[0],w=g[1],C=Object(r.useState)(t.worldId),I=Object(b.a)(C,2),P=I[0],F=I[1],U=Object(r.useState)(""),N=Object(b.a)(U,2),J=N[0],A=N[1],T=Object(r.useState)(!1),D=Object(b.a)(T,2),E=D[0],L=D[1];Object(v.g)();function R(){return(R=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,A("Updated Account"),L(!0),i&&f&&P){e.next=7;break}throw"Fields not filled out";case 7:if(k===S){e.next=9;break}throw"Passwords do not match";case 9:return e.next=11,n(i,f,k,P);case 11:e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),A(e.t0);case 17:console.log(J),L(!1);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{children:["College: ",Object(c.jsx)("input",{value:P,onChange:function(e){return F(e.target.value)}}),Object(c.jsx)("br",{}),"Name: ",Object(c.jsx)("input",{value:i,onChange:function(e){return u(e.target.value)}}),Object(c.jsx)("br",{}),"Email: ",Object(c.jsx)("input",{value:f,onChange:function(e){return d(e.target.value)}}),Object(c.jsx)("br",{}),"Password: ",Object(c.jsx)("input",{type:"password",value:k,onChange:function(e){return m(e.target.value)}}),Object(c.jsx)("br",{}),"Confirm Password: ",Object(c.jsx)("input",{type:"password",value:S,onChange:function(e){return w(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{disabled:E,onClick:function(){return R.apply(this,arguments)},children:"Submit"})]})}function P(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Account"}),Object(c.jsx)(I,{})]})}var F=n(20),U=n(40);function N(e){var t=e.component,n=Object(U.a)(e,["component"]),r=O().currentUser;return Object(c.jsx)(v.b,Object(F.a)(Object(F.a)({},n),{},{render:function(e){return r?Object(c.jsx)(t,Object(F.a)({},e)):Object(c.jsx)(v.a,{to:"/login"})}}))}function J(e){var t=e.component,n=Object(U.a)(e,["component"]),r=O().currentUser;return Object(c.jsx)(v.b,Object(F.a)(Object(F.a)({},n),{},{render:function(e){return r?Object(c.jsx)(v.a,{to:"/dashboard"}):Object(c.jsx)(t,Object(F.a)({},e))}}))}n(175);function A(){var e=O(),t=e.userData,n=e.updateFeatures,a=Object(r.useState)(t.cap),s=Object(b.a)(a,2),i=s[0],u=s[1],o=Object(r.useState)(t.features.gpa),p=Object(b.a)(o,2),f=p[0],d=p[1],h=Object(r.useState)(t.features.majors),x=Object(b.a)(h,2),v=x[0],k=x[1],m=Object(r.useState)(t.features.standings),y=Object(b.a)(m,2),g=y[0],w=y[1],C=Object(r.useState)(t.features.skills),I=Object(b.a)(C,2),P=I[0],F=I[1],U=Object(r.useState)(t.features.interests),N=Object(b.a)(U,2),J=N[0],A=N[1],T=Object(r.useState)(t.features.courses),D=Object(b.a)(T,2),E=D[0],L=D[1],R=Object(r.useState)(""),B=Object(b.a)(R,2),H=B[0],W=B[1],M=Object(r.useState)(!1),z=Object(b.a)(M,2),G=(z[0],z[1]);function X(){return(X=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,W("Updated Features"),G(!0),i&&f&&v.length&&g.length&&P.length&&J.length&&E.length){e.next=5;break}throw"Fields not filled out";case 5:return e.next=7,n(i,f,v,g,P,J,E);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),W(e.t0);case 12:console.log(H),G(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){console.log(t)}),[]),Object(c.jsxs)("div",{children:["Cap: ",Object(c.jsx)("input",{value:i,onChange:function(e){return u(e.target.value)}}),Object(c.jsx)("br",{}),"GPA: ",Object(c.jsx)("input",{value:f,onChange:function(e){return d(e.target.value)}}),Object(c.jsx)("br",{}),"Major: ",Object(c.jsx)(S.a,{value:v,onChange:function(e){return k(e)}}),Object(c.jsx)("br",{}),"Standing: ",Object(c.jsx)(S.a,{value:g,onChange:function(e){return w(e)}}),Object(c.jsx)("br",{}),"Skills: ",Object(c.jsx)(S.a,{value:P,onChange:function(e){return F(e)}}),Object(c.jsx)("br",{}),"Interests: ",Object(c.jsx)(S.a,{value:J,onChange:function(e){return A(e)}}),Object(c.jsx)("br",{}),"Courses: ",Object(c.jsx)(S.a,{value:E,onChange:function(e){return L(e)}}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(){return X.apply(this,arguments)},children:"Submit"})]})}function T(){var e=O(),t=e.userData,n=e.leaveCluster,a=Object(r.useState)(!1),s=Object(b.a)(a,2),i=s[0],u=s[1],o=Object(r.useState)(1),p=Object(b.a)(o,2),f=p[0],d=p[1],h=Object(r.useState)([]),x=Object(b.a)(h,2),v=x[0],k=x[1],m=Object(r.useState)([]),y=Object(b.a)(m,2),g=y[0],S=y[1],w=Object(r.useState)([]),C=Object(b.a)(w,2),I=C[0],P=C[1],F=Object(r.useState)([]),U=Object(b.a)(F,2),N=U[0],J=U[1],A=Object(r.useState)([]),T=Object(b.a)(A,2),D=T[0],E=T[1],L=Object(r.useState)([]),R=Object(b.a)(L,2),B=R[0],H=R[1],W=Object(r.useState)([]),M=Object(b.a)(W,2),z=(M[0],M[1]),G=Object(r.useState)([]),X=Object(b.a)(G,2),q=(X[0],X[1]),K=Object(r.useState)(!0),Q=Object(b.a)(K,2),Z=(Q[0],Q[1]),V=Object(r.useState)(),Y=Object(b.a)(V,2),$=(Y[0],Y[1]);function _(){return(_=Object(j.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully Applied"),Z(!0),e.next=5,fetch(t.links.applied,{method:"PUT",body:JSON.stringify({action:"apply",businessId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,S(c),u(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to apply");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ee(){return(ee=Object(j.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully Canceled"),Z(!0),e.next=5,fetch(t.links.applied,{method:"PUT",body:JSON.stringify({action:"cancel",businessId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,S(c),u(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to cancel");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function te(){return(te=Object(j.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully Accepted Reach"),Z(!0),e.next=5,fetch(t.links.received,{method:"PUT",body:JSON.stringify({action:"accept",businessId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,P(c),u(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to accept reach");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ne(){return(ne=Object(j.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully declined reach"),Z(!0),e.next=5,fetch(t.links.received,{method:"PUT",body:JSON.stringify({action:"decline",businessId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,P(c),u(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to decline reach");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ce(){return(ce=Object(j.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully declined communication"),Z(!0),e.next=5,fetch(t.links.interested,{method:"PUT",body:JSON.stringify({action:"decline",businessId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,J(c),u(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to decline communication");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function re(){return(re=Object(j.a)(l.a.mark((function e(c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully Accepted offer"),Z(!0),e.next=5,fetch(t.links.reviewed,{method:"PUT",body:JSON.stringify({action:"accept",businessId:c})}).then((function(e){if(e.ok)return e.json()}));case 5:return e.sent,e.prev=6,$("Left cluster"),Z(!0),e.next=11,n();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),$(e.t0);case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(0),$("Failed to accept reach");case 21:case"end":return e.stop()}}),e,null,[[0,18],[6,13]])})))).apply(this,arguments)}function ae(){return(ae=Object(j.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully declined offer"),Z(!0),e.next=5,fetch(t.links.reviewed,{method:"PUT",body:JSON.stringify({action:"decline",businessId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,P(c),u(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to decline offer");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(r.useEffect)(Object(j.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.links.all).then((function(e){if(e.ok)return e.json()}));case 2:n=e.sent,d(n.cap),k(n.pool),S(n.applied),P(n.received),J(n.interested),E(n.reviewed),H(n.accepted),z(n.declined),q(n.rejected),Z(!1);case 13:case"end":return e.stop()}}),e)}))),[t,i]),Object(r.useEffect)(Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=11;break}return e.prev=1,$("Left Cluster"),Z(!0),e.next=6,n();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),$("Failed to leave cluster");case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[f]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Pool"}),v.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return _.apply(this,arguments)}(e.id)},children:"Apply"})]})})),Object(c.jsx)("br",{}),Object(c.jsx)("h2",{children:"Applied"}),g.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return ee.apply(this,arguments)}(e.id)},children:"Cancel"})]})})),Object(c.jsx)("h2",{children:"Received"}),I.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return te.apply(this,arguments)}(e.id)},children:"Accept"}),Object(c.jsx)("button",{onClick:function(){return function(e){return ne.apply(this,arguments)}(e.id)},children:"Decline"})]})})),Object(c.jsx)("h2",{children:"Interested"}),N.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return ce.apply(this,arguments)}(e.id)},children:"Decline"})]})})),Object(c.jsx)("h2",{children:"Reviewed"}),D.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return re.apply(this,arguments)}(e.id)},children:"Accept"}),Object(c.jsx)("button",{onClick:function(){return function(e){return ae.apply(this,arguments)}(e.id)},children:"Decline"})]})})),Object(c.jsx)("h2",{children:"Accepted"}),B.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills})]})}))]})}function D(){var e=O(),t=e.userData,n=e.leaveCluster,a=Object(r.useState)(!1),s=Object(b.a)(a,2),i=s[0],u=s[1],o=Object(r.useState)(1),p=Object(b.a)(o,2),f=p[0],d=p[1],h=Object(r.useState)([]),x=Object(b.a)(h,2),v=x[0],k=x[1],m=Object(r.useState)([]),y=Object(b.a)(m,2),g=y[0],S=y[1],w=Object(r.useState)([]),C=Object(b.a)(w,2),I=C[0],P=C[1],F=Object(r.useState)([]),U=Object(b.a)(F,2),N=U[0],J=U[1],A=Object(r.useState)([]),T=Object(b.a)(A,2),D=T[0],E=T[1],L=Object(r.useState)([]),R=Object(b.a)(L,2),B=(R[0],R[1]),H=Object(r.useState)([]),W=Object(b.a)(H,2),M=(W[0],W[1]),z=Object(r.useState)([]),G=Object(b.a)(z,2),X=G[0],q=G[1],K=Object(r.useState)(!0),Q=Object(b.a)(K,2),Z=(Q[0],Q[1]),V=Object(r.useState)(),Y=Object(b.a)(V,2),$=(Y[0],Y[1]);function _(){return(_=Object(j.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully Reached"),Z(!0),e.next=5,fetch(t.links.reached,{method:"PUT",body:JSON.stringify({action:"reach",applicantId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,S(c),u(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to reach");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ee(){return(ee=Object(j.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully Canceled"),Z(!0),e.next=5,fetch(t.links.reached,{method:"PUT",body:JSON.stringify({action:"cancel",applicantId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,S(c),u(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to cancel");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function te(){return(te=Object(j.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully Accepted Apply"),Z(!0),e.next=5,fetch(t.links.received,{method:"PUT",body:JSON.stringify({action:"accept",applicantId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,P(c),u(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to accept apply");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ne(){return(ne=Object(j.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully declined apply"),Z(!0),e.next=5,fetch(t.links.received,{method:"PUT",body:JSON.stringify({action:"decline",applicantId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,P(c),u(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to decline apply");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ce(){return(ce=Object(j.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully offered"),Z(!0),e.next=5,fetch(t.links.interested,{method:"PUT",body:JSON.stringify({action:"offer",applicantId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,J(c),u(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to offer");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function re(){return(re=Object(j.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully declined communication"),Z(!0),e.next=5,fetch(t.links.interested,{method:"PUT",body:JSON.stringify({action:"decline",applicantId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,J(c),u(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to decline communication");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ae(){return(ae=Object(j.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully rescinded offer"),Z(!0),e.next=5,fetch(t.links.offered,{method:"PUT",body:JSON.stringify({action:"rescind",applicantId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,E(c),u(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to accept reach");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(r.useEffect)(Object(j.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.links.all).then((function(e){if(e.ok)return e.json()}));case 2:n=e.sent,d(n.cap),k(n.pool),S(n.reached),P(n.received),J(n.interested),E(n.offered),B(n.declined),M(n.rejected),q(n.accepted),Z(!1);case 13:case"end":return e.stop()}}),e)}))),[t,i]),Object(r.useEffect)(Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=11;break}return e.prev=1,$("Left cluster"),Z(!0),e.next=6,n();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),$("failed to leave cluster");case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[f]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Pool"}),v.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return _.apply(this,arguments)}(e.id)},children:"Reach"})]})})),Object(c.jsx)("br",{}),Object(c.jsx)("h2",{children:"Reached"}),g.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return ee.apply(this,arguments)}(e.id)},children:"Reach"})]})})),Object(c.jsx)("h2",{children:"Received"}),I.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return te.apply(this,arguments)}(e.id)},children:"Accept"}),Object(c.jsx)("button",{onClick:function(){return function(e){return ne.apply(this,arguments)}(e.id)},children:"Decline"})]})})),Object(c.jsx)("h2",{children:"Interested"}),N.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return ce.apply(this,arguments)}(e.id)},children:"Offer"}),Object(c.jsx)("button",{onClick:function(){return function(e){return re.apply(this,arguments)}(e.id)},children:"Decline"})]})})),Object(c.jsx)("h2",{children:"Offered"}),D.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return ae.apply(this,arguments)}(e.id)},children:"Rescind"})]})})),Object(c.jsx)("h2",{children:"Accepted"}),X.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills})]})}))]})}function E(){var e=O(),t=e.userData,n=e.peelFromCluster,a=e.leaveCluster,s=Object(r.useState)(!1),i=Object(b.a)(s,2),u=i[0],o=i[1],p=Object(r.useState)(),f=Object(b.a)(p,2),d=f[0],h=f[1];Object(v.g)();function x(){return(x=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h("Peeled From Cluster"),o(!0),e.next=5,n();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h(e.t0);case 10:o(!1),console.log(d);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function k(){return(k=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h("Left Cluster"),o(!0),e.next=5,a();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h(e.t0);case 10:o(!1),console.log(d);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{children:["applicant"===t.type&&Object(c.jsx)(T,{}),"business"===t.type&&Object(c.jsx)(D,{}),Object(c.jsx)("button",{disabled:u,onClick:function(){return x.apply(this,arguments)},children:"Peel From Cluster"}),Object(c.jsx)("button",{disabled:u,onClick:function(){return k.apply(this,arguments)},children:"Leave Cluster"})]})}function L(){var e=O(),t=e.userData,n=e.joinCluster,a=Object(r.useState)(!1),s=Object(b.a)(a,2),i=s[0],u=s[1],o=Object(r.useState)(),p=Object(b.a)(o,2),f=p[0],d=p[1];Object(v.g)();function h(){return(h=Object(j.a)(l.a.mark((function e(){var c,r,a,s,i,o,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d("Joined Cluster"),u(!0),c=t.features,r=c.gpa,a=c.majors,s=c.standings,i=c.skills,o=c.interests,j=c.courses,r&&a.length&&s.length&&i.length&&o.length&&j.length){e.next=6;break}throw"Fields not filled out";case 6:return e.next=8,n();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),d(e.t0);case 13:u(!1),console.log(f);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{children:[Object(c.jsx)(A,{}),Object(c.jsx)("button",{disabled:i,onClick:function(){return h.apply(this,arguments)},children:"Join Cluster"})]})}function R(){var e=O(),t=e.userData,n=e.logoutUser,a=e.deleteUser,s=Object(r.useState)(!1),i=Object(b.a)(s,2),u=i[0],o=i[1],p=Object(r.useState)(),f=Object(b.a)(p,2),d=f[0],h=f[1],x=Object(v.g)();function k(){return(k=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h("Logged Out"),o(!0),e.next=5,n();case 5:x.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h("Failed to log out");case 11:o(!1),console.log(d);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function m(){return(m=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h("Successfully deleted"),o(!0),e.next=5,a();case 5:x.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h(e.t0);case 11:o(!1),console.log(d);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Dashboard"}),t&&Object(c.jsxs)("div",{children:[!t.clusterId&&Object(c.jsx)(L,{}),t.clusterId&&Object(c.jsx)(E,{}),Object(c.jsx)("button",{disabled:u,onClick:function(){return k.apply(this,arguments)},children:"Logout"}),Object(c.jsx)("button",{disabled:u,onClick:function(){return m.apply(this,arguments)},children:"Delete User"})]})]})}function B(e){var t=e.component,n=Object(U.a)(e,["component"]),r=O(),a=r.currentUser,s=r.userData;return Object(c.jsx)(v.b,Object(F.a)(Object(F.a)({},n),{},{render:function(e){return a&&s?s.clusterId?Object(c.jsx)(t,Object(F.a)({},e)):Object(c.jsx)(v.a,{to:"/dormant-dashboard"}):Object(c.jsx)(v.a,{to:"/login"})}}))}var H=n(91),W=n(160),M=n.n(W).a.connect("https://clusters-development.herokuapp.com/messaging");function z(){var e=O().userData,t=Object(r.useState)([]),n=Object(b.a)(t,2),a=n[0],s=n[1],i=Object(r.useState)({}),u=Object(b.a)(i,2),o=u[0],p=u[1],f=Object(r.useState)([]),d=Object(b.a)(f,2),h=d[0],x=d[1],v=Object(r.useState)(""),k=Object(b.a)(v,2),m=k[0],y=k[1],g=Object(r.useState)(""),S=Object(b.a)(g,2),w=(S[0],S[1]);function C(){return(C=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t.links.messages).then((function(e){if(e.ok)return e.json()}));case 3:n=e.sent,p(t),x(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),w("Failed to display chat");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function I(){M.emit("message",{senderId:o.senderId,recipientId:o.recipientId,chatId:o.id,message:m}),y("")}return M.on("newMessage",(function(e){return x([].concat(Object(H.a)(h),[e]))})),M.on("message",(function(e){return x([].concat(Object(H.a)(h),[e]))})),Object(r.useEffect)(Object(j.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e.links.chats).then((function(e){if(e.ok)return e.json()}));case 3:n=t.sent,M.emit("join",{userId:e.id}),s(n),p(n[0]||{}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),w("Failed to grab all chats");case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),[e]),Object(c.jsxs)("div",{children:[a.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.recipientName}),Object(c.jsx)("button",{onClick:function(){return function(e){return C.apply(this,arguments)}(e)},children:"Select"})]})})),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:o.recipientName}),Object(c.jsx)("div",{children:h.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),e.message]})}))}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{value:m,onChange:function(e){return y(e.target.value)}}),Object(c.jsx)("button",{onClick:I,children:"Send"})]})]})}var G=function(){return Object(c.jsx)(k.a,{children:Object(c.jsx)(x,{children:Object(c.jsxs)(v.d,{children:[Object(c.jsx)(v.b,{exact:!0,path:"/",component:u}),Object(c.jsx)(J,{path:"/register",component:C}),Object(c.jsx)(J,{path:"/login",component:y}),Object(c.jsx)(N,{path:"/account",component:P}),Object(c.jsx)(N,{path:"/dashboard",component:R}),Object(c.jsx)(B,{path:"/chats",component:z})]})})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,295)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(G,{})}),document.getElementById("root")),X()}},[[294,1,2]]]);
//# sourceMappingURL=main.2a1ed5b9.chunk.js.map