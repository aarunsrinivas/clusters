(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{177:function(e,t,n){},178:function(e,t,n){},182:function(e,t,n){},197:function(e,t){},199:function(e,t){},210:function(e,t){},212:function(e,t){},237:function(e,t){},239:function(e,t){},240:function(e,t){},245:function(e,t){},247:function(e,t){},266:function(e,t){},278:function(e,t){},281:function(e,t){},284:function(e,t,n){},285:function(e,t,n){},312:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),s=n(47),i=n.n(s),o=(n(177),n(178),n(315)),u=n(317);function l(){return Object(c.jsxs)(o.a,{bg:"light",expand:"lg",children:[Object(c.jsx)(o.a.Brand,{href:"/",children:"Clusters"}),Object(c.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(o.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(u.a,{className:"mr-auto",children:[Object(c.jsx)(u.a.Link,{href:"/",children:"Home"}),Object(c.jsx)(u.a.Link,{href:"/dashboard",children:"Dashboard"}),Object(c.jsx)(u.a.Link,{href:"/account",children:"Account"}),Object(c.jsx)(u.a.Link,{href:"/register",children:"Register"}),Object(c.jsx)(u.a.Link,{href:"/login",children:"Log In"})]})})]})}n(182);function j(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(l,{}),Object(c.jsxs)("div",{className:"home-container",children:[Object(c.jsx)("h1",{className:"home-header",children:"Clusters"}),Object(c.jsx)("h3",{className:"home-description",children:"An easier way to find the best fit for both students and researchers alike."})]})]})}var d=n(3),p=n.n(d),h=n(7),b=n(4),f=n(101),O=(n(184),f.a.initializeApp({apiKey:"AIzaSyDFWIpCX4iLGJcHtONsTZNa74XWsPdQsHc",authDomain:"clusters-development.firebaseapp.com",projectId:"clusters-development",storageBucket:"clusters-development.appspot.com",messagingSenderId:"763071548614",appId:"1:763071548614:web:d4753c1e326400454f1bc7"})),x=O.auth(),v=a.a.createContext();function m(){return Object(r.useContext)(v)}function k(e){var t=e.children,n=Object(r.useState)(JSON.parse(sessionStorage.getItem("currentUser"))||null),a=Object(b.a)(n,2),s=a[0],i=a[1],o=Object(r.useState)(JSON.parse(sessionStorage.getItem("userData"))||null),u=Object(b.a)(o,2),l=u[0],j=u[1],d=Object(r.useState)(!0),f=Object(b.a)(d,2),O=f[0],m=f[1];function k(){return(k=Object(h.a)(p.a.mark((function e(t,n,c,r,a){var s,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=x.createUserWithEmailAndPassword(n,c),i="applicant"===r?"".concat("https://clusters-development.herokuapp.com","/worlds/").concat(a,"/applicants"):"".concat("https://clusters-development.herokuapp.com","/worlds/").concat(a,"/businesses"),e.next=4,fetch(i,{method:"POST",body:JSON.stringify({name:t,email:n,worldId:a})}).then((function(e){if(e.ok)return e.json()}));case 4:return o=e.sent,j(o),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(h.a)(p.a.mark((function e(t,n){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=x.signInWithEmailAndPassword(t,n),e.next=3,fetch("".concat("https://clusters-development.herokuapp.com","/users?email=").concat(t)).then((function(e){if(e.ok)return e.json()}));case 3:return r=e.sent,j(r[0]),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(h.a)(p.a.mark((function e(t,n,c,r){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.updateEmail(n),c&&s.updatePassword(c),e.next=4,fetch("".concat("https://clusters-development.herokuapp.com").concat(l.links.self),{method:"PUT",body:JSON.stringify({action:"account",name:t,email:n,worldId:r})}).then((function(e){if(e.ok)return e.json()}));case 4:a=e.sent,j(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(h.a)(p.a.mark((function e(t,n,c,r,a,s,i){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://clusters-development.herokuapp.com").concat(l.links.self),{method:"PUT",body:JSON.stringify({action:"features",cap:parseInt(t),gpa:parseFloat(n),majors:c,standings:r,skills:a,interests:s,courses:i})}).then((function(e){if(e.ok)return e.json()}));case 2:o=e.sent,j(o);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.signOut(),j(null),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://clusters-development.herokuapp.com").concat(l.links.self),{method:"DELETE"}).then((function(e){if(e.ok)return e.json()}));case 2:return e.sent,t=s.delete(),j(null),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://clusters-development.herokuapp.com").concat(l.links.self),{method:"POST",body:JSON.stringify({action:"join"})}).then((function(e){if(e.ok)return e.json()}));case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://clusters-development.herokuapp.com").concat(l.links.self),{method:"POST",body:JSON.stringify({action:"leave"})}).then((function(e){if(e.ok)return e.json()}));case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://clusters-development.herokuapp.com").concat(l.links.self),{method:"POST",body:JSON.stringify({action:"peel"})}).then((function(e){if(e.ok)return e.json()}));case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){var e=x.onAuthStateChanged(function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}sessionStorage.clear(),e.next=10;break;case 4:if(l){e.next=10;break}return e.next=7,fetch("".concat("https://clusters-development.herokuapp.com","/users?email=").concat(t.email)).then((function(e){if(e.ok)return e.json()}));case 7:n=e.sent,j(n[0]),sessionStorage.setItem("currentUser",JSON.stringify(t));case 10:i(t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return m(!1),e}),[]),Object(r.useEffect)((function(){sessionStorage.setItem("userData",JSON.stringify(l))}),[l]);var F={currentUser:s,userData:l,registerUser:function(e,t,n,c,r){return k.apply(this,arguments)},loginUser:function(e,t){return y.apply(this,arguments)},logoutUser:function(){return S.apply(this,arguments)},deleteUser:function(){return C.apply(this,arguments)},updateAccount:function(e,t,n,c){return g.apply(this,arguments)},updateFeatures:function(e,t,n,c,r,a,s){return w.apply(this,arguments)},joinCluster:function(){return I.apply(this,arguments)},peelFromCluster:function(){return P.apply(this,arguments)},leaveCluster:function(){return N.apply(this,arguments)}};return Object(c.jsx)(v.Provider,{value:F,children:!O&&t})}var y=n(12),g=n(25),w=n(316),S=n(314);n(75);function C(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),i=Object(b.a)(s,2),o=i[0],u=i[1],l=Object(r.useState)(""),j=Object(b.a)(l,2),d=(j[0],j[1]),f=Object(r.useState)(!1),O=Object(b.a)(f,2),x=(O[0],O[1]),v=m(),k=v.loginUser,C=(v.userData,Object(y.g)());function I(){return(I=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d("Logged In"),x(!0),n&&o){e.next=5;break}throw"Fields are required";case 5:return e.next=7,k(n,o);case 7:C.push("/dashboard"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),d(e.t0);case 13:x(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"form-container",children:[Object(c.jsx)("h1",{className:"form-header",children:"Log In"}),Object(c.jsxs)(w.a,{children:[Object(c.jsxs)(w.a.Group,{controlId:"email",children:[Object(c.jsx)(w.a.Label,{children:"Email Address"}),Object(c.jsx)(w.a.Control,{type:"email",placeholder:"Enter email",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(c.jsxs)(w.a.Group,{controlId:"password",children:[Object(c.jsx)(w.a.Label,{children:"Password"}),Object(c.jsx)(w.a.Control,{type:"password",placeholder:"Enter password",value:o,onChange:function(e){return u(e.target.value)}})]}),Object(c.jsx)("div",{className:"form-button",children:Object(c.jsx)(S.a,{variant:"primary",onClick:function(){return I.apply(this,arguments)},block:!0,children:"Sign in "})})]}),Object(c.jsx)("div",{className:"form-register-redirect",children:Object(c.jsx)("span",{children:Object(c.jsxs)("p",{children:["Need an Account? ",Object(c.jsx)(g.b,{to:"/register",children:"Register"})]})})})]})})}function I(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(l,{}),Object(c.jsx)(C,{})]})}function N(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),i=Object(b.a)(s,2),o=i[0],u=i[1],l=Object(r.useState)(""),j=Object(b.a)(l,2),d=j[0],f=j[1],O=Object(r.useState)(""),x=Object(b.a)(O,2),v=x[0],k=x[1],C=Object(r.useState)(""),I=Object(b.a)(C,2),N=I[0],P=I[1],F=Object(r.useState)(""),T=Object(b.a)(F,2),U=T[0],L=T[1],A=Object(r.useState)(""),D=Object(b.a)(A,2),E=(D[0],D[1]),J=Object(r.useState)(!1),G=Object(b.a)(J,2),R=G[0],B=G[1],H=m().registerUser,W=Object(y.g)();function M(){return(M=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,E("Registered"),B(!0),n&&o&&d&&v&&N&&U){e.next=7;break}throw"Fields not filled out";case 7:if(d===v){e.next=9;break}throw"Passwords do not match";case 9:return e.next=11,H(n,o,d,N,U);case 11:W.push("/dashboard"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),E(e.t0);case 17:B(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{className:"register-container",children:[Object(c.jsx)("h1",{className:"register-header",children:"Create Account"}),Object(c.jsxs)(w.a,{children:[Object(c.jsxs)("div",{className:"radio-container",children:[Object(c.jsx)("input",{type:"radio",name:"type",onClick:function(){return P("applicant")}})," Student "," ",Object(c.jsx)("input",{type:"radio",name:"type",onClick:function(){return P("business")}})," Faculty"]}),Object(c.jsxs)(w.a.Group,{controlId:"name",children:[Object(c.jsx)(w.a.Label,{children:"Name"}),Object(c.jsx)(w.a.Control,{placeholder:"Enter name",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(c.jsxs)(w.a.Group,{controlId:"worldId",children:[Object(c.jsx)(w.a.Label,{children:"College"}),Object(c.jsx)(w.a.Control,{placeholder:"Enter college",value:U,onChange:function(e){return L(e.target.value)}})]}),Object(c.jsxs)(w.a.Group,{controlId:"email",children:[Object(c.jsx)(w.a.Label,{children:"Email"}),Object(c.jsx)(w.a.Control,{type:"email",placeholder:"Enter email",value:o,onChange:function(e){return u(e.target.value)}})]}),Object(c.jsxs)(w.a.Group,{controlId:"password",children:[Object(c.jsx)(w.a.Label,{children:"Password"}),Object(c.jsx)(w.a.Control,{type:"password",placeholder:"Enter password",value:d,onChange:function(e){return f(e.target.value)}})]}),Object(c.jsxs)(w.a.Group,{controlId:"confirmPassword",children:[Object(c.jsx)(w.a.Label,{children:"Confirm Password"}),Object(c.jsx)(w.a.Control,{type:"password",placeholder:"Confirm password",value:v,onChange:function(e){return k(e.target.value)}})]}),Object(c.jsx)("div",{className:"register-button",children:Object(c.jsx)(S.a,{variant:"primary",disabled:R,onClick:function(){return M.apply(this,arguments)},block:!0,children:"Sign up"})})]}),Object(c.jsxs)("div",{className:"form-register-redirect",children:["Already Have an Account? ",Object(c.jsx)(g.b,{to:"/login",children:"Sign in"})]})]})}function P(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(l,{}),Object(c.jsx)(N,{})]})}function F(){var e=m(),t=e.userData,n=e.updateAccount,a=e.deleteUser,s=Object(r.useState)(t.name),i=Object(b.a)(s,2),o=i[0],u=i[1],l=Object(r.useState)(t.email),j=Object(b.a)(l,2),d=j[0],f=j[1],O=Object(r.useState)(""),x=Object(b.a)(O,2),v=x[0],k=x[1],y=Object(r.useState)(""),g=Object(b.a)(y,2),C=g[0],I=g[1],N=Object(r.useState)(t.worldId),P=Object(b.a)(N,2),F=P[0],T=P[1],U=Object(r.useState)(""),L=Object(b.a)(U,2),A=(L[0],L[1]),D=Object(r.useState)(!1),E=Object(b.a)(D,2),J=E[0],G=E[1];function R(){return(R=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,A("Updated Account"),G(!0),o&&d&&F){e.next=7;break}throw"Fields not filled out";case 7:if(v===C){e.next=9;break}throw"Passwords do not match";case 9:return e.next=11,n(o,d,v,F);case 11:e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),A(e.t0);case 17:G(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function B(){return(B=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A("Successfully deleted"),G(!0),e.next=5,a();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),A(e.t0);case 10:G(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"register-container",children:[Object(c.jsx)("h2",{className:"register-header",children:"Update Account Details"}),Object(c.jsxs)(w.a,{children:[Object(c.jsxs)(w.a.Group,{controlId:"name",children:[Object(c.jsx)(w.a.Label,{children:"Name"}),Object(c.jsx)(w.a.Control,{placeholder:"Enter name",value:o,onChange:function(e){return u(e.target.value)}})]}),Object(c.jsxs)(w.a.Group,{controlId:"worldId",children:[Object(c.jsx)(w.a.Label,{children:"College"}),Object(c.jsx)(w.a.Control,{placeholder:"Enter college",value:F,onChange:function(e){return T(e.target.value)}})]}),Object(c.jsxs)(w.a.Group,{controlId:"email",children:[Object(c.jsx)(w.a.Label,{children:"Email"}),Object(c.jsx)(w.a.Control,{type:"email",placeholder:"Enter email",value:d,onChange:function(e){return f(e.target.value)}})]}),Object(c.jsxs)(w.a.Group,{controlId:"password",children:[Object(c.jsx)(w.a.Label,{children:"Password"}),Object(c.jsx)(w.a.Control,{type:"password",placeholder:"Enter password",value:v,onChange:function(e){return k(e.target.value)}})]}),Object(c.jsxs)(w.a.Group,{controlId:"confirmPassword",children:[Object(c.jsx)(w.a.Label,{children:"Confirm Password"}),Object(c.jsx)(w.a.Control,{type:"password",placeholder:"Confirm password",value:C,onChange:function(e){return I(e.target.value)}})]}),Object(c.jsx)("div",{className:"register-button",children:Object(c.jsx)(S.a,{variant:"primary",disabled:J,onClick:function(){return R.apply(this,arguments)},block:!0,children:"Update Info"})}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{children:Object(c.jsx)(S.a,{variant:"danger",disabled:J,onClick:function(){return B.apply(this,arguments)},block:!0,children:"Delete Account"})})]})]})})}function T(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(l,{}),Object(c.jsx)(F,{})]})}var U=n(23),L=n(46);function A(e){var t=e.component,n=Object(L.a)(e,["component"]),r=m().userData;return Object(c.jsx)(y.b,Object(U.a)(Object(U.a)({},n),{},{render:function(e){return r?Object(c.jsx)(t,Object(U.a)({},e)):Object(c.jsx)(y.a,{to:"/login"})}}))}function D(e){var t=e.component,n=Object(L.a)(e,["component"]),r=m().userData;return Object(c.jsx)(y.b,Object(U.a)(Object(U.a)({},n),{},{render:function(e){return r?Object(c.jsx)(y.a,{to:"/dashboard"}):Object(c.jsx)(t,Object(U.a)({},e))}}))}n(191);var E=n(48),J=n.n(E);n(284);function G(){var e=m(),t=e.userData,n=e.updateFeatures,a=Object(r.useState)(t.cap),s=Object(b.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(t.features.gpa||null),l=Object(b.a)(u,2),j=l[0],d=l[1],f=Object(r.useState)(t.features.majors),O=Object(b.a)(f,2),x=O[0],v=O[1],k=Object(r.useState)(t.features.standings),y=Object(b.a)(k,2),g=y[0],C=y[1],I=Object(r.useState)(t.features.skills),N=Object(b.a)(I,2),P=N[0],F=N[1],T=Object(r.useState)(t.features.interests),U=Object(b.a)(T,2),L=U[0],A=U[1],D=Object(r.useState)(t.features.courses),E=Object(b.a)(D,2),G=E[0],R=E[1],B=Object(r.useState)(""),H=Object(b.a)(B,2),W=(H[0],H[1]),M=Object(r.useState)(!1),z=Object(b.a)(M,2),X=z[0],q=z[1];function K(){return(K=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,W("Updated Features"),q(!0),i&&j&&x.length&&g.length&&P.length&&L.length&&G.length){e.next=5;break}throw"Fields not filled out";case 5:return e.next=7,n(i,j,x,g,P,L,G);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),W(e.t0);case 12:q(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"register-container",children:[Object(c.jsx)("h2",{className:"register-header",children:"Set User Details"}),Object(c.jsxs)(w.a,{children:[Object(c.jsxs)(w.a.Group,{controlId:"cap",children:[Object(c.jsx)(w.a.Label,{children:"Cap"}),Object(c.jsx)(w.a.Control,{type:"number",step:"1",min:"1",placeholder:"Enter cap",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(c.jsxs)(w.a.Group,{controlId:"gpa",children:[Object(c.jsx)(w.a.Label,{children:"GPA"}),Object(c.jsx)(w.a.Control,{type:"number",step:"0.01",min:"0.00",placeholder:"Enter GPA out of 4.0",value:j,onChange:function(e){return d(e.target.value)}})]}),"Major(s)",Object(c.jsx)(J.a,{value:x,onChange:function(e){return v(e)}}),Object(c.jsx)("br",{}),"Standing(s)",Object(c.jsx)(J.a,{value:g,onChange:function(e){return C(e)}}),Object(c.jsx)("br",{}),"Skills",Object(c.jsx)(J.a,{value:P,onChange:function(e){return F(e)}}),Object(c.jsx)("br",{}),"Interests",Object(c.jsx)(J.a,{value:L,onChange:function(e){return A(e)}}),Object(c.jsx)("br",{}),"Courses",Object(c.jsx)(J.a,{value:G,onChange:function(e){return R(e)}}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"register-button",children:Object(c.jsx)(S.a,{variant:"primary",disabled:X,onClick:function(){return K.apply(this,arguments)},block:!0,children:"Set User Info"})})]})]})})}n(285);var R=n(318);function B(){var e=m(),t=e.userData,n=e.leaveCluster,a=Object(r.useState)(!1),s=Object(b.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(1),l=Object(b.a)(u,2),j=l[0],d=l[1],f=Object(r.useState)([]),O=Object(b.a)(f,2),x=O[0],v=O[1],k=Object(r.useState)([]),y=Object(b.a)(k,2),g=y[0],w=y[1],C=Object(r.useState)([]),I=Object(b.a)(C,2),N=I[0],P=I[1],F=Object(r.useState)([]),T=Object(b.a)(F,2),U=T[0],L=T[1],A=Object(r.useState)([]),D=Object(b.a)(A,2),E=D[0],J=D[1],G=Object(r.useState)([]),B=Object(b.a)(G,2),H=B[0],W=B[1],M=Object(r.useState)([]),z=Object(b.a)(M,2),X=(z[0],z[1]),q=Object(r.useState)([]),K=Object(b.a)(q,2),Q=(K[0],K[1]),Z=Object(r.useState)(!0),V=Object(b.a)(Z,2),Y=(V[0],V[1]),$=Object(r.useState)(),_=Object(b.a)($,2),ee=(_[0],_[1]);function te(){return(te=Object(h.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ee("Successfully Applied"),Y(!0),e.next=5,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.applied),{method:"PUT",body:JSON.stringify({action:"apply",businessId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,w(c),o(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ee("Failed to apply");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ne(){return(ne=Object(h.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ee("Successfully Canceled"),Y(!0),e.next=5,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.applied),{method:"PUT",body:JSON.stringify({action:"cancel",businessId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,w(c),o(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ee("Failed to cancel");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ce(){return(ce=Object(h.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ee("Successfully Accepted Reach"),Y(!0),e.next=5,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.received),{method:"PUT",body:JSON.stringify({action:"accept",businessId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,P(c),o(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ee("Failed to accept reach");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function re(){return(re=Object(h.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ee("Successfully declined reach"),Y(!0),e.next=5,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.received),{method:"PUT",body:JSON.stringify({action:"decline",businessId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,P(c),o(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ee("Failed to decline reach");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ae(){return(ae=Object(h.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ee("Successfully declined communication"),Y(!0),e.next=5,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.interested),{method:"PUT",body:JSON.stringify({action:"decline",businessId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,L(c),o(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ee("Failed to decline communication");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function se(){return(se=Object(h.a)(p.a.mark((function e(c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ee("Successfully Accepted offer"),Y(!0),e.next=5,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.reviewed),{method:"PUT",body:JSON.stringify({action:"accept",businessId:c})}).then((function(e){if(e.ok)return e.json()}));case 5:return e.sent,e.prev=6,ee("Left cluster"),Y(!0),e.next=11,n();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),ee(e.t0);case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(0),ee("Failed to accept reach");case 21:case"end":return e.stop()}}),e,null,[[0,18],[6,13]])})))).apply(this,arguments)}function ie(){return(ie=Object(h.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ee("Successfully declined offer"),Y(!0),e.next=5,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.reviewed),{method:"PUT",body:JSON.stringify({action:"decline",businessId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,P(c),o(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ee("Failed to decline offer");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function oe(e){for(var t="",n=0;n<e.length-1;n++)t+=e[n]+" | ";return t+=e[e.length-1]}function ue(e){for(var t="",n=0;n<e.length-1;n++)t+=e[n]+" | ";return t+=e[e.length-1]}return Object(r.useEffect)(Object(h.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.all)).then((function(e){if(e.ok)return e.json()}));case 2:n=e.sent,d(n.cap),v(n.pool),w(n.applied),P(n.received),L(n.interested),J(n.reviewed),W(n.accepted),X(n.declined),Q(n.rejected),Y(!1);case 13:case"end":return e.stop()}}),e)}))),[t,i]),Object(r.useEffect)(Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=11;break}return e.prev=1,ee("Left Cluster"),Y(!0),e.next=6,n();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ee("Failed to leave cluster");case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[j]),Object(c.jsxs)("div",{className:"dashboard-container",children:[Object(c.jsx)("h1",{children:"Dashboard"}),Object(c.jsx)("hr",{}),Object(c.jsx)("h2",{children:"Availible Positions"}),Object(c.jsx)("div",{className:"all-cards-container",children:x.map((function(e){return Object(c.jsx)("div",{className:"single-card-container",children:Object(c.jsx)(R.a,{style:{width:"16rem"},children:Object(c.jsxs)(R.a.Body,{children:[Object(c.jsx)(R.a.Title,{children:e.name}),Object(c.jsxs)(R.a.Text,{children:[Object(c.jsx)("p",{children:oe(e.features.skills)}),Object(c.jsx)("p",{children:ue(e.features.courses)})]}),Object(c.jsx)(S.a,{variant:"primary",onClick:function(){return function(e){return te.apply(this,arguments)}(e.id)},children:"Apply"})]})})})}))}),Object(c.jsx)("hr",{}),Object(c.jsx)("h2",{children:"Applied"}),Object(c.jsx)("div",{className:"all-cards-container",children:g.map((function(e){return Object(c.jsx)("div",{className:"single-card-container",children:Object(c.jsx)(R.a,{style:{width:"14rem"},children:Object(c.jsxs)(R.a.Body,{children:[Object(c.jsx)(R.a.Title,{children:e.name}),Object(c.jsx)(R.a.Text,{children:oe(e.features.skills)}),Object(c.jsx)(S.a,{variant:"danger",onClick:function(){return function(e){return ne.apply(this,arguments)}(e.id)},children:"Cancel"})]})})})}))}),Object(c.jsx)("hr",{}),Object(c.jsx)("h2",{children:"Received"}),Object(c.jsx)("div",{className:"all-cards-container",children:N.map((function(e){return Object(c.jsx)("div",{className:"single-card-container",children:Object(c.jsx)(R.a,{style:{width:"14rem"},children:Object(c.jsxs)(R.a.Body,{children:[Object(c.jsx)(R.a.Title,{children:e.name}),Object(c.jsx)(R.a.Text,{children:oe(e.features.skills)}),Object(c.jsx)(S.a,{variant:"primary",onClick:function(){return function(e){return ce.apply(this,arguments)}(e.id)},children:"Accept"}),Object(c.jsx)(S.a,{variant:"danger",onClick:function(){return function(e){return re.apply(this,arguments)}(e.id)},children:"Decline"})]})})})}))}),Object(c.jsx)("hr",{}),Object(c.jsx)("h2",{children:"Interested"}),Object(c.jsx)("div",{className:"all-cards-container",children:U.map((function(e){return Object(c.jsx)("div",{className:"single-card-container",children:Object(c.jsx)(R.a,{style:{width:"14rem"},children:Object(c.jsxs)(R.a.Body,{children:[Object(c.jsx)(R.a.Title,{children:e.name}),Object(c.jsx)(R.a.Text,{children:oe(e.features.skills)}),Object(c.jsx)(S.a,{variant:"danger",onClick:function(){return function(e){return ae.apply(this,arguments)}(e.id)},children:"Decline"})]})})})}))}),Object(c.jsx)("hr",{}),Object(c.jsx)("h2",{children:"Offers"}),Object(c.jsx)("div",{className:"all-cards-container",children:E.map((function(e){return Object(c.jsx)("div",{className:"single-card-container",children:Object(c.jsx)(R.a,{style:{width:"14rem"},children:Object(c.jsxs)(R.a.Body,{children:[Object(c.jsx)(R.a.Title,{children:e.name}),Object(c.jsx)(R.a.Text,{children:oe(e.features.skills)}),Object(c.jsx)(S.a,{variant:"primary",onClick:function(){return function(e){return se.apply(this,arguments)}(e.id)},children:"Accept Offer"}),Object(c.jsx)(S.a,{variant:"danger",onClick:function(){return function(e){return ie.apply(this,arguments)}(e.id)},children:"Decline Offer"})]})})})}))}),Object(c.jsx)("hr",{}),Object(c.jsx)("h2",{children:"Accepted"}),Object(c.jsx)("div",{className:"all-cards-container"}),H.map((function(e){return Object(c.jsx)("div",{className:"single-card-container",children:Object(c.jsx)(R.a,{style:{width:"14rem"},children:Object(c.jsxs)(R.a.Body,{children:[Object(c.jsx)(R.a.Title,{children:e.name}),Object(c.jsx)(R.a.Text,{children:oe(e.features.skills)})]})})})}))]})}function H(){var e=m(),t=e.userData,n=e.leaveCluster,a=Object(r.useState)(!1),s=Object(b.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(1),l=Object(b.a)(u,2),j=l[0],d=l[1],f=Object(r.useState)([]),O=Object(b.a)(f,2),x=O[0],v=O[1],k=Object(r.useState)([]),y=Object(b.a)(k,2),g=y[0],w=y[1],S=Object(r.useState)([]),C=Object(b.a)(S,2),I=C[0],N=C[1],P=Object(r.useState)([]),F=Object(b.a)(P,2),T=F[0],U=F[1],L=Object(r.useState)([]),A=Object(b.a)(L,2),D=A[0],E=A[1],J=Object(r.useState)([]),G=Object(b.a)(J,2),R=(G[0],G[1]),B=Object(r.useState)([]),H=Object(b.a)(B,2),W=(H[0],H[1]),M=Object(r.useState)([]),z=Object(b.a)(M,2),X=z[0],q=z[1],K=Object(r.useState)(!0),Q=Object(b.a)(K,2),Z=(Q[0],Q[1]),V=Object(r.useState)(),Y=Object(b.a)(V,2),$=(Y[0],Y[1]);function _(){return(_=Object(h.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully Reached"),Z(!0),e.next=5,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.reached),{method:"PUT",body:JSON.stringify({action:"reach",applicantId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,w(c),o(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to reach");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ee(){return(ee=Object(h.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully Canceled"),Z(!0),e.next=5,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.reached),{method:"PUT",body:JSON.stringify({action:"cancel",applicantId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,w(c),o(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to cancel");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function te(){return(te=Object(h.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully Accepted Apply"),Z(!0),e.next=5,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.received),{method:"PUT",body:JSON.stringify({action:"accept",applicantId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,N(c),o(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to accept apply");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ne(){return(ne=Object(h.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully declined apply"),Z(!0),e.next=5,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.received),{method:"PUT",body:JSON.stringify({action:"decline",applicantId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,N(c),o(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to decline apply");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ce(){return(ce=Object(h.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully offered"),Z(!0),e.next=5,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.interested),{method:"PUT",body:JSON.stringify({action:"offer",applicantId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,U(c),o(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to offer");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function re(){return(re=Object(h.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully declined communication"),Z(!0),e.next=5,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.interested),{method:"PUT",body:JSON.stringify({action:"decline",applicantId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,U(c),o(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to decline communication");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ae(){return(ae=Object(h.a)(p.a.mark((function e(n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$("Successfully rescinded offer"),Z(!0),e.next=5,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.offered),{method:"PUT",body:JSON.stringify({action:"rescind",applicantId:n})}).then((function(e){if(e.ok)return e.json()}));case 5:c=e.sent,E(c),o(!i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$("Failed to accept reach");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(r.useEffect)(Object(h.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.all)).then((function(e){if(e.ok)return e.json()}));case 2:n=e.sent,d(n.cap),v(n.pool),w(n.reached),N(n.received),U(n.interested),E(n.offered),R(n.declined),W(n.rejected),q(n.accepted),Z(!1);case 13:case"end":return e.stop()}}),e)}))),[t,i]),Object(r.useEffect)(Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=11;break}return e.prev=1,$("Left cluster"),Z(!0),e.next=6,n();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),$("failed to leave cluster");case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[j]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Pool"}),x.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return _.apply(this,arguments)}(e.id)},children:"Reach"})]})})),Object(c.jsx)("br",{}),Object(c.jsx)("h2",{children:"Reached"}),g.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return ee.apply(this,arguments)}(e.id)},children:"Reach"})]})})),Object(c.jsx)("h2",{children:"Received"}),I.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return te.apply(this,arguments)}(e.id)},children:"Accept"}),Object(c.jsx)("button",{onClick:function(){return function(e){return ne.apply(this,arguments)}(e.id)},children:"Decline"})]})})),Object(c.jsx)("h2",{children:"Interested"}),T.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return ce.apply(this,arguments)}(e.id)},children:"Offer"}),Object(c.jsx)("button",{onClick:function(){return function(e){return re.apply(this,arguments)}(e.id)},children:"Decline"})]})})),Object(c.jsx)("h2",{children:"Offered"}),D.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills}),Object(c.jsx)("button",{onClick:function(){return function(e){return ae.apply(this,arguments)}(e.id)},children:"Rescind"})]})})),Object(c.jsx)("h2",{children:"Accepted"}),X.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("li",{children:e.features.skills})]})}))]})}function W(){var e=m(),t=e.userData,n=e.peelFromCluster,a=e.leaveCluster,s=Object(r.useState)(!1),i=Object(b.a)(s,2),o=i[0],u=i[1],l=Object(r.useState)(),j=Object(b.a)(l,2),d=(j[0],j[1]);Object(y.g)();function f(){return(f=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d("Peeled From Cluster"),u(!0),e.next=5,n();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),d(e.t0);case 10:u(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function O(){return(O=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d("Left Cluster"),u(!0),e.next=5,a();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),d(e.t0);case 10:u(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{children:["applicant"===t.type&&Object(c.jsx)(B,{}),"business"===t.type&&Object(c.jsx)(H,{}),Object(c.jsx)("button",{disabled:o,onClick:function(){return f.apply(this,arguments)},children:"Peel From Cluster"}),Object(c.jsx)("button",{disabled:o,onClick:function(){return O.apply(this,arguments)},children:"Leave Cluster"})]})}function M(){var e=m(),t=e.userData,n=e.joinCluster,a=Object(r.useState)(!1),s=Object(b.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(),l=Object(b.a)(u,2),j=(l[0],l[1]);Object(y.g)();function d(){return(d=Object(h.a)(p.a.mark((function e(){var c,r,a,s,i,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j("Joined Cluster"),o(!0),c=t.features,r=c.gpa,a=c.majors,s=c.standings,i=c.skills,u=c.interests,l=c.courses,r&&a.length&&s.length&&i.length&&u.length&&l.length){e.next=6;break}throw"Fields not filled out";case 6:return e.next=8,n();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),j(e.t0);case 13:o(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{children:[Object(c.jsx)(G,{}),Object(c.jsx)("button",{disabled:i,onClick:function(){return d.apply(this,arguments)},children:"Join Cluster"})]})}function z(){var e=m(),t=e.userData,n=e.logoutUser,a=e.deleteUser,s=Object(r.useState)(!1),i=Object(b.a)(s,2),o=i[0],u=i[1],j=Object(r.useState)(),d=Object(b.a)(j,2),f=(d[0],d[1]);function O(){return(O=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f("Logged Out"),u(!0),e.next=5,n();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f("Failed to log out");case 10:u(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function x(){return(x=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f("Successfully deleted"),u(!0),e.next=5,a();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(e.t0);case 10:u(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{children:[Object(c.jsx)(l,{}),!t.clusterId&&Object(c.jsx)(M,{}),t.clusterId&&Object(c.jsx)(W,{}),Object(c.jsx)("button",{disabled:o,onClick:function(){return O.apply(this,arguments)},children:"Logout"}),Object(c.jsx)("button",{disabled:o,onClick:function(){return x.apply(this,arguments)},children:"Delete User"})]})}function X(e){var t=e.component,n=Object(L.a)(e,["component"]),r=m(),a=r.currentUser,s=r.userData;return Object(c.jsx)(y.b,Object(U.a)(Object(U.a)({},n),{},{render:function(e){return a&&s?s.clusterId?Object(c.jsx)(t,Object(U.a)({},e)):Object(c.jsx)(y.a,{to:"/dormant-dashboard"}):Object(c.jsx)(y.a,{to:"/login"})}}))}var q=n(104),K=n(171),Q=n.n(K).a.connect("".concat("https://clusters-development.herokuapp.com","/messaging"));function Z(){var e=m().userData,t=Object(r.useState)([]),n=Object(b.a)(t,2),a=n[0],s=n[1],i=Object(r.useState)({}),o=Object(b.a)(i,2),u=o[0],l=o[1],j=Object(r.useState)([]),d=Object(b.a)(j,2),f=d[0],O=d[1],x=Object(r.useState)(""),v=Object(b.a)(x,2),k=v[0],y=v[1],g=Object(r.useState)(""),w=Object(b.a)(g,2),S=(w[0],w[1]);function C(){return(C=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://clusters-development.herokuapp.com").concat(t.links.messages)).then((function(e){if(e.ok)return e.json()}));case 3:n=e.sent,l(t),O(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),S("Failed to display chat");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function I(){Q.emit("message",{senderId:u.senderId,recipientId:u.recipientId,chatId:u.id,message:k}),y("")}return Q.on("newMessage",(function(e){return O([].concat(Object(q.a)(f),[e]))})),Q.on("message",(function(e){return O([].concat(Object(q.a)(f),[e]))})),Object(r.useEffect)(Object(h.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("https://clusters-development.herokuapp.com").concat(e.links.chats)).then((function(e){if(e.ok)return e.json()}));case 3:n=t.sent,Q.emit("join",{userId:e.id}),s(n),l(n[0]||{}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),S("Failed to grab all chats");case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),[e]),Object(c.jsxs)("div",{children:[a.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.recipientName}),Object(c.jsx)("button",{onClick:function(){return function(e){return C.apply(this,arguments)}(e)},children:"Select"})]})})),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:u.recipientName}),Object(c.jsx)("div",{children:f.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),e.message]})}))}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{value:k,onChange:function(e){return y(e.target.value)}}),Object(c.jsx)("button",{onClick:I,children:"Send"})]})]})}n(311);var V=function(){return Object(c.jsx)(g.a,{children:Object(c.jsx)(k,{children:Object(c.jsxs)(y.d,{children:[Object(c.jsx)(y.b,{exact:!0,path:"/",component:j}),Object(c.jsx)(D,{path:"/register",component:P}),Object(c.jsx)(D,{path:"/login",component:I}),Object(c.jsx)(A,{path:"/account",component:T}),Object(c.jsx)(A,{path:"/dashboard",component:z}),Object(c.jsx)(X,{path:"/chats",component:Z})]})})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,319)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(V,{})}),document.getElementById("root")),Y()},75:function(e,t,n){}},[[312,1,2]]]);
//# sourceMappingURL=main.c47bcbb2.chunk.js.map